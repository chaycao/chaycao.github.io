---
title:      æŒ‘è‹¹æœä¸­çš„è¡Œä¸ºå‚æ•°åŒ–æ€æƒ³
date:       2020-05-17
author:     ChayCao
catalog: true
tags:  éšç¬”
---

è‰æå¯¹Lambdaè¡¨è¾¾å¼çš„äº†è§£åœç•™åœ¨ç”¨IDEAè‡ªåŠ¨æ›¿æ¢åŒ¿åç±»çš„ç¨‹åº¦ï¼Œä»¥ä¸ºLambdaè¡¨è¾¾å¼åªæ˜¯æŠŠä»£ç ç¼©çŸ­äº†è€Œå·²ï¼Œä¸è¿‡å°±æ˜¯ä¸€ä¸ªè¯­æ³•ç³–ã€‚æ‰€ä»¥ä¸€ç›´ä¸å±‘ä¸€é¡¾ï¼Œæ²¡ç³»ç»Ÿå­¦ä¹ ã€‚â€œä¸è¿‡å°±æ˜¯ä»£ç çŸ­ä¸€ç‚¹å˜›ï¼Œæ²¡å•¥å¤§ä¸äº†â€ã€‚ä½†é€šè¿‡å­¦ä¹ æ‰çŸ¥é“Lambdaè¡¨è¾¾å¼ä¸ä»…ä»…æ˜¯æŠŠä»£ç æ¢äº†ç§è¡¨è¾¾æ–¹å¼ï¼Œå¯èƒ½æ›´é‡è¦çš„æ˜¯èƒŒåçš„æ€æƒ³â€”â€”**è¡Œä¸ºå‚æ•°åŒ–**ã€‚

æ‰€è°“çš„è¡Œä¸ºå‚æ•°åŒ–ï¼ŒæŒ‡çš„æ˜¯æˆ‘ä»¬å¯ä»¥é€šè¿‡å‚æ•°ä¼ é€’çš„å½¢å¼å»æŒ‡å®šä»£ç çš„è¡Œä¸ºã€‚æ˜¯ä¸æ˜¯å¾ˆçœ¼ç†Ÿï¼Œå­¦è¿‡è®¾è®¡æ¨¡å¼çš„ç«¥é‹ï¼ŒåŸºæœ¬éƒ½æ˜¯ä»**ç­–ç•¥æ¨¡å¼**å¼€å§‹å­¦èµ·çš„ã€‚ç­–ç•¥æ¨¡å¼ä¾¿æ˜¯é¢å‘æ¥å£ç¼–ç¨‹ï¼Œé€šè¿‡ä½¿ç”¨ä¸åŒçš„å®ç°ç±»ï¼Œæ”¹å˜å…·ä½“çš„è¡Œä¸ºã€‚è¡Œä¸ºå‚æ•°åŒ–å’Œç­–ç•¥æ¨¡å¼çš„æ•ˆæœç±»ä¼¼ï¼Œåªæ˜¯å¤šäº†ä¸ªå‚æ•°åŒ–ï¼Œé€šè¿‡ä¼ é€’å‚æ•°æŒ‡å®šäº†å…·ä½“çš„å½¢å¼ã€‚

ä¸‹é¢è‰æç»™å¤§å®¶è®²ä¸ªå…³äºæŒ‘è‹¹æœçš„å°æ•…äº‹ã€‚

æ¢…æ¢…å¼€å§‹è®¡åˆ’æ¯å¤©åƒä¸€ä¸ªè‹¹æœï¼Œäºæ˜¯å©å’è‰æå»è¶…å¸‚é‡‡è´­ã€‚è‰æï¼ˆä¸€ä¸ªæ²¡æœ‰ç”Ÿæ´»ç»éªŒçš„ç”·äººï¼‰ä¹°è‹¹æœçš„åŸåˆ™å°±æ˜¯ä¸æ˜¯çƒ‚çš„å°±è¡Œã€‚

```java
// ä¸æ˜¯çƒ‚çš„å°±è¡Œ
// isRotten = false
public static List<Apple> filterApple(List<Apple> apples, boolean isRotten) {
    List<Apple> result = new ArrayList<>();
    for (Apple apple : apples) {
        if (apple.getRotten().equals(isRotten)) {
            result.add(apple);
        }
    }
    return result;
}
```

å…´è‡´å‹ƒå‹ƒçš„ä¹°å®Œå›åˆ°å®¶ã€‚

ğŸ˜ ï¼šâ€œè‰æï¼Œè¿™è‹¹æœé‡Œå’‹è¿˜æœ‰ä¸ªç»¿çš„ğŸğŸğŸğŸï¼Œæˆ‘å–œæ¬¢åƒçº¢è‹¹æœï¼Œè¦ä¹°çº¢çš„ï¼ï¼ï¼â€

ğŸ˜…ï¼šâ€œå•Šï¼ŒçŸ¥é“äº†ï¼ŒçŸ¥é“äº†ï¼Œ ä¹°çº¢çš„ï¼Œä¸‹æ¬¡ä¹°çº¢çš„ã€‚â€

```Java
// è¿™æ¬¡çŸ¥é“äº†ä¸ä»…ä¸æ˜¯çƒ‚çš„ï¼Œè¿˜è¦ä¹°çº¢çš„
// isRotten = false, color = "red"
public static List<Apple> filterApple(List<Apple> apples, boolean isRotten, boolean color) {
    List<Apple> result = new ArrayList<>();
    for (Apple apple : apples) {
        if (apple.getRotten().equals(isRotten) &&
            apple.getColor().equals(color)) {
            result.add(apple);
        }
    }
    return result;
}
```

ç¬¬äºŒæ¬¡ä¹°è‹¹æœå½’æ¥ï¼Œç­‰å¾…æ£€éªŒã€‚

ğŸ™‚ï¼šâ€œå—¯ï¼Œè¿™æ¬¡æ˜¯æ¸…ä¸€è‰²çš„çº¢è‹¹æœäº†ğŸğŸğŸğŸï¼Œå¯æ˜¯æˆ‘å–œæ¬¢åƒå°ç‚¹çš„è‹¹æœï¼Œæ›´å¯çˆ±äº›ï¼Œç›´å¾„åº”è¯¥å°äº5å˜ç±³ã€‚â€

ğŸ˜¨ï¼šâ€œç›´å¾„...å°äº...5å˜ç±³...â€

ğŸ˜ ï¼šâ€œæœ‰é—®é¢˜å—ï¼Ÿâ€

ğŸ˜…ï¼šâ€œå¥½çš„ï¼Œå¥½çš„ï¼Œä¸‹æ¬¡ä¹°å°äº5å˜ç±³çš„ã€‚â€

```java
// åˆè¦åŠ ä¸€ä¸ªå‚æ•°ï¼Œç›´å¾„å°äº5å˜ç±³
// isRotten = false, color = "red", diameter = 5
public static List<Apple> filterApple(List<Apple> apples, boolean isRotten, boolean color, double diameter) {
    List<Apple> result = new ArrayList<>();
    for (Apple apple : apples) {
        if (apple.getRotten().equals(isRotten) &&
                apple.getColor().equals(color) &&
                (apple.getDiameter() < diameter)) {
            result.add(apple);
        }
    }
    return result;
}
```

è‰æå‘ç°ï¼Œå‡½æ•°çš„å‚æ•°å·²ç»æœ‰4ä¸ªäº†ï¼Œå·²ç»å¾ˆå¤šäº†ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥è€ƒè™‘æ”¹å†™ä¸€ä¸‹ï¼Œä¼ é€’çš„å‚æ•°éƒ½æ˜¯æŒ‘é€‰è‹¹æœçš„ç›¸å…³æ ‡å‡†ï¼Œç„¶ååœ¨å‡½æ•°ä¸­æ ¹æ®è¿™äº›å‚æ•°æ¥ç­›é€‰ï¼Œæ˜¯ä¸æ˜¯å¯ä»¥æŠŠè¿™äº›**å‚æ•°æŠ½è±¡æˆä¸€ä¸ªç»“æ„ä½“**ï¼Œè¿™é‡ŒæŠ½è±¡æˆä¸€ä¸ªAppleç±»å‹çš„å˜é‡ã€‚

```java
public static List<Apple> filterApple(List<Apple> apples, Apple standard) {
    List<Apple> result = new ArrayList<>();
    for (Apple apple : apples) {
        if (apple.getRotten().equals(standard.isRotten) &&
                apple.getColor().equals(standard.color) &&
                (apple.getDiameter() < standard.diameter)) {
            result.add(apple);
        }
    }
    return result;
}
```

è‰ææƒ³è¿™ä¸‹åº”è¯¥å®Œç¾äº†å§ï¼Œç›´åˆ°ç¬¬ä¸‰æ¬¡å›æ¥ã€‚

ğŸ˜€ï¼šâ€œè‰æï¼Œæˆ‘åˆæƒ³åƒå¤§è‹¹æœäº†ï¼Œä¸‹æ¬¡ä½ ä¹°å¤§è‹¹æœå›æ¥å§ã€‚ç›´å¾„å¤§äº5å˜ç±³çš„é‚£ç§ã€‚â€

è¿™éœ€æ±‚å˜çš„å¯çœŸå¿«å•Šã€‚è¦å¤§è‹¹æœï¼Œé‚£å°±æ˜¯ä¿®æ”¹`<`ä¸º`>`ï¼Œç®€å•ï¼

```java
public static List<Apple> filterApple(List<Apple> apples, Apple standard) {
    List<Apple> result = new ArrayList<>();
    for (Apple apple : apples) {
        if (apple.getRotten().equals(standard.isRotten) &&
                apple.getColor().equals(standard.color) &&
                // ç­›é€‰å¤§è‹¹æœ
                (apple.getDiameter() > standard.diameter)) {
            result.add(apple);
        }
    }
    return result;
}
```

ä½†æ˜¯çœ‹ç€è¿™ä¸¤ä¸ªç‰ˆæœ¬çš„ä»£ç ï¼Œè‰æå¯Ÿè§‰`filterAppple`ä¸­æ¯æ¬¡å˜æ›´çš„æ˜¯**åˆ¤æ–­è‹¹æœæ˜¯å¦ç¬¦åˆæ ‡å‡†çš„ä»£ç **ï¼Œè‡³äºéå†`apples`å’Œæ ¹æ®åˆ¤æ–­ç»“æœåŠ å…¥åˆ°`result`ä¸­è¿™éƒ¨åˆ†æ˜¯ä¸å˜åŒ–çš„ã€‚æ‰€ä»¥å¦‚æœèƒ½æŠŠåˆ¤æ–­æ ‡å‡†çš„ä»£ç æŠ½è±¡å‡ºæ¥ï¼Œé‚£æ¯æ¬¡ä¿®æ”¹çš„å½±å“å°±ä¼šæ›´å°ï¼ˆä¸ç”¨æ”¹åŠ¨`filterApple`æ–¹æ³•ï¼‰ã€‚

å®šä¹‰ä¸€ä¸ªåˆ¤æ–­è‹¹æœæ ‡å‡†çš„æ¥å£ï¼š

```java
// è‹¹æœæ ‡å‡†åˆ¤æ–­
public interface AppleStandardPredicate {
    // æ˜¯å¦ç¬¦åˆæ ‡å‡†
    boolean isMeetStandard(Apple apple);
}
```

å†æ¥ä¸ªå…·ä½“å®ç°ç±»ï¼Œå¤§è‹¹æœæ ‡å‡†åˆ¤æ–­ï¼š

```java
public class BigAppleStandardPredicate implements AppleStandardPredicate {
    @Override
    public boolean isMeetStandard(Apple apple) {
        if (apple.getRotten().equals(false) &&
                apple.getColor().equals("red") &&
                (apple.getDiameter() > 5)) {
            return true;
        }
        return false;
    }
}
```

æŠŠ`filterApple` çš„å‚æ•°æ”¹ä¸º`AppleStandardPredicate`ï¼Œè¿™æ ·`filterApple`å°†ä¸ä¼šå› è‹¹æœåˆ¤æ–­é€»è¾‘çš„å˜åŒ–è€Œå˜åŒ–äº†ã€‚

```java
public static List<Apple> filterApple(List<Apple> apples, AppleStandardPredicate predicate) {
    List<Apple> result = new ArrayList<>();
    for (Apple apple : apples) {
        if (predicate.isMeetStandard(apple)) {
            result.add(apple);
        }
    }
    return result;
}
```

è®©æˆ‘ä»¬ä¸º`filterApple`ä¼ å…¥`BigAppleStandardPredicate`ï¼š

```java
List<Apple> goodApples = filterApple(apples, new BigAppleStandardPredicate());
```

ä½†è¿™ç§å†™æ³•æ¯”è¾ƒç¹ççš„åœ°æ–¹åœ¨äºéœ€è¦åˆ›å»ºä¸€ä¸ªå®ç°ç±»ï¼Œå¦‚æœç”¨åŒ¿åå†…éƒ¨ç±»å¯èƒ½ä¼šæ›´ç®€æ´äº›ã€‚

```java
List<Apple> goodApples = filterApple(apples, new AppleStandardPredicate() {
    @Override
    public boolean isMeetStandard(Apple apple) {
        if (apple.getRotten().equals(false) &&
                apple.getColor().equals("red") &&
                (apple.getDiameter() > 5)) {
            return true;
        }
        return false;
    }
});
```

å—¯ï¼Œç±»æ˜¯å°‘åˆ›å»ºäº†ä¸€ä¸ªï¼Œä½†å¥½åƒä¹Ÿä¸æ˜¯é‚£ä¹ˆç®€æ´ï¼Œè¯•ç€ç”¨Lambdaå†ç¨å¾®ç®€åŒ–ä¸‹ã€‚

```java
List<Apple> goodApples = filterApple(apples, apple -> {
    if (apple.getRotten().equals(false) &&
            apple.getColor().equals("red") &&
            (apple.getDiameter() > 5)) {
        return true;
    }
    return false;
});
```

ğŸ˜€ï¼šâ€œè‰æï¼Œæˆ‘ä¸æƒ³åƒè‹¹æœäº†ï¼Œæˆ‘æƒ³åƒ**è›‡æœ**ï¼æ ‡å‡†å’Œä¹‹å‰è‹¹æœçš„ä¸€æ ·ã€‚â€

ğŸ¤”ï¼šâ€œå¥½çš„ã€‚â€

è¿™ä¸‹è¯¥æ€ä¹ˆæ”¹å‘¢ï¼Ÿè¡Œä¸ºè¿˜æ˜¯åŸæ¥çš„è¡Œä¸ºï¼Œä½†æ˜¯ç±»å‹æ¢äº†ã€‚é‚£å°±ç”¨**æ³›å‹**å§ã€‚

æŠŠ`AppleStandardPredicate`æ”¹ä¸ºå¸¦æ³›å‹çš„`StandardPredicate`ï¼š

```java
public interface StandardPredicate<T> {
    boolean isMeetStandard(T object);
}
```
æŠŠ`filterApple`æ”¹ä¸ºå¸¦æ³›å‹çš„`filter`ï¼š
```java
public static <T> List<T> filter(List<T> objects, StandardPredicate<T> predicate) {
    List<T> result = new ArrayList<>();
    for (T object : objects) {
        if (predicate.isMeetStandard(object)) {
            result.add(object);
        }
    }
    return result;
}
```

æœ€ååœ¨è°ƒç”¨filteræ—¶ï¼Œåªæ˜¯ä¿®æ”¹äº†ä¸‹å˜é‡åï¼Œå…¶ä»–éƒ½æ²¡æ”¹ï¼Œä»ç„¶æ˜¯åŸæ¥çš„é€»è¾‘ã€‚

```java
List<SnakeApple> goodSnakeApples = filter(snakeApples, snakeApple -> {
    if (snakeApple.getRotten().equals(false) &&
            snakeApple.getColor().equals("red") &&
            (snakeApple.getDiameter() > 5)) {
        return true;
    }
    return false;
});
```

é€šè¿‡**ç±»å‹æŠ½è±¡åŒ–**ï¼Œè®©`StandardPredicate`å’Œ`Filter`çš„é€‚ç”¨èŒƒå›´æ‰©å¤§åŒ–äº†ï¼Œä¸ä»…å¯ä»¥ç”¨è¿™æ®µä»£ç æŒ‘è‹¹æœå’Œè›‡æœï¼Œä½ è¿˜èƒ½æ‹¿ç€è¿™æ®µä»£ç å»ä¹°èœï¼

ğŸ¥°ï¼šâ€è‰æï¼Œå»ä¹°ç‚¹å·å¿ƒèœå›æ¥~â€œ

ğŸ˜ï¼šâ€œå¥½çš„â€

```java
List<Cabbage> goodCabbages = filter(cabbages, cabbage -> cabbage.getColor().equals("green"));
```

ç”šè‡³è¿˜èƒ½å¸®è€å©†æŒ‘åŒ–å¦†å“ï¼

ğŸ¥°ï¼šâ€è‰æï¼Œ520å¿«åˆ°äº†ï¼Œå£çº¢ç”¨å®Œäº†â€œ

ğŸ˜ï¼šâ€œå¥½çš„â€

```java
List<Lipstick> goodLipsticks = filter(lipsticks, lipstick -> lipstick.getPrice() > 500);
```

çœŸæ˜¯å¦™å•Š~ å®ä¹ƒå±…å®¶ç”Ÿæ´»ä¹‹å¿…å¤‡~

